{"version":3,"file":"injectedScript.js","mappings":"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","sources":["webpack://playcanvas-extension/./src/injectedScript.js"],"sourcesContent":["\"use strict\";\r\n\r\nconst componentDeleteAttributes = [\r\n    {\r\n        component: \"model\",\r\n        attributes: [\"lightmapped\", \"lightmapSizeMultiplier\", \"castShadowsLightMap\", \"lightMapped\", \"lightMapSizeMultiplier\", \"isStatic\", \"layers\", \"batchGroupId\"]\r\n    }\r\n]\r\n\r\nlet defaultEntity;\r\n\r\nfunction getDefaultEntity() {\r\n    if (!defaultEntity) {\r\n        defaultEntity = editor.entities.create();\r\n        defaultEntity.addComponent(\"model\");\r\n        defaultEntity.addComponent(\"render\");\r\n        defaultEntity.addComponent(\"collision\");\r\n        defaultEntity.addComponent(\"rigidbody\");\r\n        defaultEntity.addComponent(\"animation\");\r\n        defaultEntity.addComponent(\"camera\");\r\n        defaultEntity.addComponent(\"light\");\r\n        defaultEntity.addComponent(\"element\");\r\n        defaultEntity.addComponent(\"particlesystem\");\r\n        defaultEntity = defaultEntity.json();\r\n    }\r\n    return defaultEntity;\r\n}\r\n\r\nwindow.addEventListener(\"FIND_ENTITY\", function (e) {\r\n    let method = e.detail.method;\r\n    let value = e.detail.value;\r\n\r\n    switch (method) {\r\n        case \"tag\":\r\n            findEnitiesByTag(value);\r\n            break;\r\n        case \"name\":\r\n            findEntitiesByName(value);\r\n            break;\r\n        case \"regex\":\r\n            findEntitiesByRegex(value);\r\n            break;\r\n        default:\r\n            console.error(\"Invalid find method\");\r\n            return;\r\n    }\r\n});\r\n\r\nwindow.addEventListener(\"EXPORT_ENTITIES\", function (e) {\r\n    let exportType = e.detail.exportType;\r\n    let downloadFile = e.detail.downloadFile;\r\n    exportObjects(exportType === \"hierarchy\", downloadFile);\r\n});\r\n\r\nfunction findEnitiesByTag(tags) {\r\n    let entitiesByTag = editor.entities.root.listByTag(tags.split(\",\"));\r\n    if (entitiesByTag.length === 0) {\r\n        console.log(`No entities found with tag: ${tag}`);\r\n        return;\r\n    }\r\n    editor.selection.clear();\r\n    entitiesByTag.forEach((entity) => editor.selection.add(entity));\r\n    window.dispatchEvent(\r\n        new CustomEvent(\"FIND_ENTITY_RESULT\", { detail: entitiesByTag.length })\r\n    );\r\n}\r\n\r\nfunction findEntitiesByName(name) {\r\n    let allEntities = editor.entities.list();\r\n    let entitiesByName = allEntities.filter(\r\n        (entity) => entity.viewportEntity.name === name\r\n    );\r\n    if (entitiesByName.length === 0) {\r\n        console.log(`No entities found with name: ${name}`);\r\n        return;\r\n    }\r\n    editor.selection.clear();\r\n    entitiesByName.forEach((entity) => editor.selection.add(entity));\r\n    window.dispatchEvent(\r\n        new CustomEvent(\"FIND_ENTITY_RESULT\", { detail: entitiesByName.length })\r\n    );\r\n}\r\n\r\nfunction findEntitiesByRegex(regexString) {\r\n    let allEntities = editor.entities.list();\r\n    let entitiesByRegex = allEntities.filter((entity) =>\r\n        entity.viewportEntity.name.match(regexString)\r\n    );\r\n    if (entitiesByRegex.length === 0) {\r\n        console.log(`No entities found with regex: ${regexString}`);\r\n        return;\r\n    }\r\n    editor.selection.clear();\r\n    entitiesByRegex.forEach((entity) => editor.selection.add(entity));\r\n    window.dispatchEvent(\r\n        new CustomEvent(\"FIND_ENTITY_RESULT\", {\r\n            detail: entitiesByRegex.length,\r\n        })\r\n    );\r\n}\r\n\r\nfunction exportObjects(exportHierarchy = true, downloadFile = false) {\r\n    let entityList = editor.selection.items;\r\n    let jsonString;\r\n    if (entityList.length === 0) {\r\n        alert(\"No entities selected\");\r\n        return;\r\n    } else if (entityList.length === 1) {\r\n        jsonString = exportHierarchy\r\n            ? entityList[0].jsonHierarchy()\r\n            : entityList[0].json();\r\n        cleanEntity(jsonString);\r\n        jsonString = JSON.stringify(jsonString);\r\n    } else {\r\n        let jsonList = [];\r\n        entityList.forEach((entity) => {\r\n            let entityJson = exportHierarchy\r\n                ? entity.jsonHierarchy()\r\n                : entity.json();\r\n            cleanEntity(entityJson);\r\n            jsonList.push(entityJson);\r\n        });\r\n        jsonString = JSON.stringify(jsonList);\r\n    }\r\n    if (downloadFile) {\r\n        let name =\r\n            entityList.length === 1\r\n                ? entityList[0].viewportEntity.name\r\n                : \"export\";\r\n        download(jsonString, `${name}.json`, \"application/json\");\r\n    } else {\r\n        writeToClipboard(jsonString);\r\n        alert(\"Copied to clipboard\");\r\n    }\r\n}\r\n\r\nfunction download(data, filename, type) {\r\n    let file = new Blob([data], { type: type });\r\n    if (window.navigator.msSaveOrOpenBlob) {\r\n        window.navigator.msSaveOrOpenBlob(file, filename);\r\n    } else {\r\n        let a = document.createElement(\"a\");\r\n        let url = URL.createObjectURL(file);\r\n        a.href = url;\r\n        a.download = filename;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        setTimeout(function () {\r\n            document.body.removeChild(a);\r\n            window.URL.revokeObjectURL(url);\r\n        }, 0);\r\n    }\r\n}\r\n\r\nfunction writeToClipboard(text) {\r\n    let textArea = document.createElement(\"textarea\");\r\n    textArea.value = text;\r\n    document.body.appendChild(textArea);\r\n    textArea.focus();\r\n    textArea.select();\r\n    document.execCommand(\"copy\");\r\n    document.body.removeChild(textArea);\r\n}\r\n\r\nfunction cleanEntity(entity) {\r\n\r\n    let uneabledComponents = [];\r\n    for (let componentName in entity.components) {\r\n        if (entity.components.hasOwnProperty(componentName)) {\r\n            if (!entity.components[componentName].enabled) {\r\n                uneabledComponents.push(componentName);\r\n            }\r\n            else {\r\n                cleanComponent(componentName, entity.components[componentName]);\r\n            }\r\n        }\r\n    }\r\n    uneabledComponents.forEach((componentName) => {\r\n        delete entity.components[componentName];\r\n    });\r\n\r\n    if (entity.components && entity.components.script) {\r\n        let scripts = entity.components.script.scripts;\r\n        entity.components.script = scripts;\r\n        for (let scriptName in scripts) {\r\n            let script = scripts[scriptName];\r\n            let attributes = script.attributes;\r\n            replaceAssetIdsWithNames(attributes);\r\n            script = attributes;\r\n            scripts[scriptName] = script;\r\n        }\r\n    }\r\n    else {\r\n      for(let component in entity.components) {\r\n        if (entity.components.hasOwnProperty(component)) {\r\n          let attributes = entity.components[component];\r\n          replaceAssetIdsWithNames(attributes);\r\n        }\r\n      }\r\n    }\r\n\r\n    if(entity.template_id) {\r\n        delete entity.template_id;\r\n    }\r\n    if(entity.template_ent_ids) {\r\n        delete entity.template_ent_ids;\r\n    }\r\n    if(entity.tags && entity.tags.length === 0) {\r\n        delete entity.tags;\r\n    }\r\n    if(entity.children && entity.children.length === 0) {\r\n        delete entity.children;\r\n    }\r\n    if(entity.hasOwnProperty(\"enabled\") && entity.enabled) {\r\n        delete entity.enabled;\r\n    }\r\n\r\n    if(entity.position[0] === 0 && entity.position[1] === 0 && entity.position[2] === 0) {\r\n        delete entity.postion;\r\n    }\r\n    if(entity.rotation[0] === 0 && entity.rotation[1] === 0 && entity.rotation[2] === 0) {\r\n        delete entity.rotation;\r\n    }\r\n    if(entity.scale[0] === 1 && entity.scale[1] === 1 && entity.scale[2] === 1) {\r\n        delete entity.scale;\r\n    }\r\n    if(entity.components && Object.keys(entity.components).length === 0) {\r\n        delete entity.components;\r\n    }\r\n\r\n    delete entity.parent;\r\n    delete entity.resource_id;\r\n\r\n    if(entity.position) {\r\n        entity.position[0] = parseFloat(entity.position[0].toFixed(4));\r\n        entity.position[1] = parseFloat(entity.position[1].toFixed(4));\r\n        entity.position[2] = parseFloat(entity.position[2].toFixed(4));\r\n    }\r\n    if(entity.rotation) {\r\n        entity.rotation[0] = parseFloat(entity.rotation[0].toFixed(4));\r\n        entity.rotation[1] = parseFloat(entity.rotation[1].toFixed(4));\r\n        entity.rotation[2] = parseFloat(entity.rotation[2].toFixed(4));\r\n    }\r\n    if(entity.scale) {\r\n        entity.scale[0] = parseFloat(entity.scale[0].toFixed(4));\r\n        entity.scale[1] = parseFloat(entity.scale[1].toFixed(4));\r\n        entity.scale[2] = parseFloat(entity.scale[2].toFixed(4));\r\n    }\r\n\r\n    if (entity.children) {\r\n        entity.children.forEach((child) => cleanEntity(child));\r\n    }\r\n}\r\n\r\nfunction replaceAssetIdsWithNames(attributes) {\r\n    let removeList = [];\r\n    for (let key in attributes) {\r\n        if (attributes.hasOwnProperty(key)) {\r\n            if (Array.isArray(attributes[key])) {\r\n                attributes[key] = attributes[key].map((value) => {\r\n                    if (isAssetId(value)) {\r\n                        let assetName = getAssetName(value);\r\n                        if (assetName) {\r\n                            if (\r\n                                getAssetType(value) !== \"json\" &&\r\n                                getAssetType(value) !== \"material\"\r\n                            ) {\r\n                                assetName = removeFilenameExtension(assetName);\r\n                            } else if (getExtension(assetName) !== \"json\") {\r\n                                assetName = `${assetName}.json`;\r\n                            }\r\n                        }\r\n\r\n                        return assetName;\r\n                    }\r\n                    return value;\r\n                });\r\n            } else if (isAssetId(attributes[key])) {\r\n                let assetName = getAssetName(attributes[key]);\r\n                if (assetName) {\r\n                    if (\r\n                        getAssetType(attributes[key]) !== \"json\" &&\r\n                        getAssetType(attributes[key]) !== \"material\"\r\n                    ) {\r\n                        assetName = removeFilenameExtension(assetName);\r\n                    } else if (getExtension(assetName) !== \"json\") {\r\n                        assetName = `${assetName}.json`;\r\n                    }\r\n                }\r\n\r\n                attributes[key] = assetName;\r\n            } else if (isEntityId(attributes[key])) {\r\n                removeList.push(key);\r\n            }\r\n        }\r\n    }\r\n    removeList.forEach((key) => delete attributes[key]);\r\n}\r\n\r\nfunction getAssetName(assetId) {\r\n    let asset = editor.assets.get(assetId);\r\n    if (asset) {\r\n        return asset.json().name;\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction getExtension(name) {\r\n    return name.split(\".\").pop();\r\n}\r\n\r\nfunction getAssetType(assetId) {\r\n    let asset = editor.assets.get(assetId);\r\n    if (asset) {\r\n        return asset.json().type;\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction removeFilenameExtension(filename) {\r\n    return filename.replace(/\\.[^/.]+$/, \"\");\r\n}\r\n\r\nfunction isAssetId(id) {\r\n    return `${id}`.match(/[\\d]{8,10}/)?.length === 1;\r\n}\r\n\r\nfunction isEntityId(id) {\r\n    return (\r\n        `${id}`.match(\r\n            /[\\d|\\w]{8}-[\\d|\\w]{4}-4[\\d|\\w]{3}-[\\d|\\w]{4}-[\\d|\\w]{12}/\r\n        )?.length === 1\r\n    );\r\n}\r\n\r\nfunction cleanComponent(name, component) {\r\n    if(name !== \"script\") {\r\n        for (let key in component) {\r\n            if (component.hasOwnProperty(key)) {\r\n                if(getDefaultEntity().components[name][key] === component[key]) {\r\n                    delete component[key];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    componentDeleteAttributes.forEach((c) => {\r\n        if (c.component === name) {\r\n            c.attributes.forEach((attribute) => {\r\n                delete component[attribute];\r\n            });\r\n        }\r\n    });\r\n}\r\n"],"names":["componentDeleteAttributes","component","attributes","defaultEntity","cleanEntity","entity","uneabledComponents","componentName","components","hasOwnProperty","enabled","cleanComponent","push","forEach","script","scripts","scriptName","replaceAssetIdsWithNames","template_id","template_ent_ids","tags","length","children","position","postion","rotation","scale","Object","keys","parent","resource_id","parseFloat","toFixed","child","removeList","key","Array","isArray","map","value","isAssetId","assetName","getAssetName","getAssetType","removeFilenameExtension","getExtension","id","match","assetId","asset","editor","assets","get","json","name","split","pop","type","filename","replace","entities","create","addComponent","c","attribute","window","addEventListener","e","method","detail","entitiesByTag","root","listByTag","selection","clear","add","dispatchEvent","CustomEvent","console","log","tag","findEnitiesByTag","entitiesByName","list","filter","viewportEntity","findEntitiesByName","regexString","entitiesByRegex","findEntitiesByRegex","error","exportHierarchy","downloadFile","jsonString","entityList","items","jsonHierarchy","JSON","stringify","jsonList","entityJson","data","file","Blob","navigator","msSaveOrOpenBlob","a","document","createElement","url","URL","createObjectURL","href","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","text","textArea","focus","select","execCommand","writeToClipboard","alert","exportObjects","exportType"],"sourceRoot":""}